[gd_scene load_steps=16 format=3 uid="uid://by2aba4ug1oc1"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_yb53y"]
[ext_resource type="Texture2D" uid="uid://cp876w51aq4df" path="res://assets/PlayerPistol.png" id="2_73m64"]
[ext_resource type="PackedScene" uid="uid://cw4yhkllc8kyb" path="res://scenes/Player.tscn" id="2_rm88x"]
[ext_resource type="PackedScene" uid="uid://bxjr1c2a3nsmu" path="res://scenes/CornerWatcher.tscn" id="3_n0274"]
[ext_resource type="Texture2D" uid="uid://elwgejcncnyr" path="res://assets/GunFire.png" id="4_dynp8"]
[ext_resource type="Script" path="res://scripts/InvisOnReady.gd" id="5_bvmrs"]
[ext_resource type="PackedScene" uid="uid://irs2a45c3e4q" path="res://scenes/WeepingWillow.tscn" id="7_57ndx"]

[sub_resource type="Curve2D" id="Curve2D_42ttw"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 173, 187, -20.2597, -37.5179, 20.2597, 37.5179, 311, 262, -70.5337, 71.2841, 70.5337, -71.2841, 471, 402, -27.0129, -68.2826, 27.0129, 68.2826, 611, 428, -25.5122, 63.0301, 25.5122, -63.0301, 744, 351, -61.4795, -74.6401, 61.4795, 74.6401, 932, 373, -27.9652, -36.435, 27.9652, 36.435, 991, 521, -101.298, -145.57, 101.298, 145.57, 1303, 649)
}

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_is4jd"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_6na4x"]
sky_material = SubResource( "ProceduralSkyMaterial_is4jd" )

[sub_resource type="Environment" id="Environment_baw24"]
background_mode = 2
sky = SubResource( "Sky_6na4x" )
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_l54ap"]
size = Vector2(20, 20)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_pxe7d"]
data = PackedVector3Array(10, 0, 10, -10, 0, 10, 10, 0, -10, -10, 0, 10, -10, 0, -10, 10, 0, -10)

[sub_resource type="BoxMesh" id="BoxMesh_jcuqu"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_d4lfy"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[node name="Game" type="Node3D"]
script = ExtResource( "1_yb53y" )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GunFire" type="Sprite2D" parent="CanvasLayer"]
visible = false
position = Vector2(765, 377)
rotation = 1.06252
scale = Vector2(0.285278, -0.285562)
texture = ExtResource( "4_dynp8" )
script = ExtResource( "5_bvmrs" )

[node name="Gun" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(924, 485)
rotation = 2.89655
scale = Vector2(0.204069, -0.20424)
skew = 0.000537872
texture = ExtResource( "2_73m64" )
flip_h = true

[node name="Paths" type="Node" parent="CanvasLayer"]

[node name="Path2D" type="Path2D" parent="CanvasLayer/Paths"]
position = Vector2(-232, -180)
curve = SubResource( "Curve2D_42ttw" )

[node name="PathFollow2D" type="PathFollow2D" parent="CanvasLayer/Paths/Path2D"]
position = Vector2(173, 187)
rotation = 0.317724
loop = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( "Environment_baw24" )

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
visible = false
shadow_enabled = true
directional_shadow_max_distance = 250.0

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource( "PlaneMesh_l54ap" )

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_pxe7d" )

[node name="TestObstacles" type="Node" parent="."]

[node name="Test" type="MeshInstance3D" parent="TestObstacles"]
transform = Transform3D(1, 0, 0, 0, 2.85401, 0, 0, 0, 1, -2.50219, 1.31118, 1.63882)
mesh = SubResource( "BoxMesh_jcuqu" )
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="TestObstacles/Test"]

[node name="@@39257" type="CollisionShape3D" parent="TestObstacles/Test/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_d4lfy" )

[node name="Test2" type="MeshInstance3D" parent="TestObstacles"]
transform = Transform3D(1, 0, 0, 0, 2.85401, 0, 0, 0, 1, -5.18417, 1.31118, 1.63882)
mesh = SubResource( "BoxMesh_jcuqu" )
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="TestObstacles/Test2"]

[node name="39257" type="CollisionShape3D" parent="TestObstacles/Test2/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_d4lfy" )

[node name="Test3" type="MeshInstance3D" parent="TestObstacles"]
transform = Transform3D(0.0040142, 2.85399, 0, -0.999992, 0.0114566, 0, 0, 0, 1, -3.91405, 1.68771, 1.63882)
mesh = SubResource( "BoxMesh_jcuqu" )
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="TestObstacles/Test3"]

[node name="39257" type="CollisionShape3D" parent="TestObstacles/Test3/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_d4lfy" )

[node name="Test4" type="MeshInstance3D" parent="TestObstacles"]
transform = Transform3D(0.0040142, 2.85399, 0, -0.999992, 0.0114566, 0, 0, 0, 1, -3.91405, 0.449172, -2.09457)
mesh = SubResource( "BoxMesh_jcuqu" )
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="TestObstacles/Test4"]

[node name="39257" type="CollisionShape3D" parent="TestObstacles/Test4/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_d4lfy" )

[node name="Test5" type="MeshInstance3D" parent="TestObstacles"]
transform = Transform3D(0.0040142, 2.85399, 0, -0.999992, 0.0114566, 0, 0, 0, 1, -3.91405, 0.901203, -4.17931)
mesh = SubResource( "BoxMesh_jcuqu" )
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="TestObstacles/Test5"]

[node name="39257" type="CollisionShape3D" parent="TestObstacles/Test5/StaticBody3D"]
shape = SubResource( "ConcavePolygonShape3D_d4lfy" )

[node name="Player" parent="." instance=ExtResource( "2_rm88x" )]

[node name="Actors" type="Node" parent="."]

[node name="WeepingWillows" type="Node" parent="Actors"]

[node name="WeepingWillow" parent="Actors/WeepingWillows" instance=ExtResource( "7_57ndx" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.18917, 1, -2.41769)

[node name="CornerWatchers" type="Node" parent="Actors"]

[node name="CornerWatcher" parent="Actors/CornerWatchers" instance=ExtResource( "3_n0274" )]

[connection signal="make_bug" from="Player" to="." method="_on_player_make_bug"]
