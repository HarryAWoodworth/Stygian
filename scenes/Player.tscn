[gd_scene load_steps=7 format=3 uid="uid://cw4yhkllc8kyb"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_uakye"]
[ext_resource type="Script" path="res://scripts/DisabledOnReady.gd" id="2_5utnx"]

[sub_resource type="Animation" id="Animation_mbc8j"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_h0and"]
_data = {
"RESET": SubResource( "Animation_mbc8j" )
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_sx2hc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7u61c"]
radius = 0.493611
height = 1.01843

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource( "1_uakye" )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../Neck/Camera3D")
libraries = {
"": SubResource( "AnimationLibrary_h0and" )
}

[node name="StandingCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0296754, 0)
shape = SubResource( "CapsuleShape3D_sx2hc" )

[node name="CrouchingCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.459587, 0)
shape = SubResource( "CapsuleShape3D_7u61c" )
script = ExtResource( "2_5utnx" )

[node name="CrouchJumpCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.53991, 0)
shape = SubResource( "CapsuleShape3D_7u61c" )
script = ExtResource( "2_5utnx" )

[node name="Neck" type="Node3D" parent="."]
transform = Transform3D(-0.999007, 0, 0.0445435, 0, 1, 0, -0.0445435, 0, -0.999007, 0, 0.638595, 0)

[node name="Camera3D" type="Camera3D" parent="Neck"]
transform = Transform3D(1, 0, -2.23517e-08, 0, 1, 0, 1.86265e-08, 0, 1, -0.06312, -2.38419e-07, 0.015203)
current = true

[node name="GunRayCast" type="RayCast3D" parent="Neck/Camera3D"]
transform = Transform3D(-0.999008, 0, -0.0445435, 0, 1, 0, 0.0445435, 0, -0.999008, -0.0208412, 0, -0.46742)
target_position = Vector3(0, 0, 100)

[node name="Position3D" type="Position3D" parent="Neck"]
transform = Transform3D(1, 0, -1.86265e-08, 0, 1, 0, 1.86265e-08, 0, 1, -0.0331865, -0.41989, -0.744296)

[node name="UncrouchRaycasts" type="Node" parent="Neck"]

[node name="DebugCamera" type="Camera3D" parent="."]
transform = Transform3D(-0.710494, 0.275688, -0.647453, -0.100792, 0.87071, 0.481357, 0.696448, 0.407259, -0.590847, -2.08113, 1.80824, -1.87534)

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.513, 0.1, 0.02)
target_position = Vector3(0, 1, 0)

[node name="RayCast3D2" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.508, 0.1, 0)
target_position = Vector3(0, 1, 0)

[node name="RayCast3D3" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.001, 0.1, -0.515)
target_position = Vector3(0, 1, 0)

[node name="RayCast3D4" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.01, 0.1, 0.512)
target_position = Vector3(0, 1, 0)

[node name="BugTimer" type="Timer" parent="."]
wait_time = 0.05

[node name="BugDamageTimer" type="Timer" parent="."]
wait_time = 1.5

[node name="RainCast" type="RayCast3D" parent="."]
target_position = Vector3(0, 200, 0)

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
[connection signal="timeout" from="BugTimer" to="." method="_on_bug_timer_timeout"]
[connection signal="timeout" from="BugDamageTimer" to="." method="_on_bug_damage_timer_timeout"]
